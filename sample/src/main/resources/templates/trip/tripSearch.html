<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>

    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>

    <!-- Popper.js와 Bootstrap 순서로 로드 -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
    <meta charset="UTF-8">
    <title>여행지 검색</title>

    <!-- Datepicker (간단한 한국어 달력 선택기) -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/css/bootstrap-datepicker.min.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/js/bootstrap-datepicker.min.js"></script>
    <script>
        $(document).ready(function() {
            $('#datepicker').datepicker({
                format: 'yyyy-mm-dd',
                language: 'ko',
                autoclose: true
            });
        });
    </script>
</head>
<body onLoad="javascript:pop()">
<div th:replace="/fragments/nav.html :: fragment-nav"></div>
<div th:replace="/fragments/header.html :: fragment-header"></div>

<div class="container mt-4">
    <div class="row">
        <!-- 왼쪽: 날짜 선택 및 여행지 검색 -->
        <div class="col-md-4">
            <h4>상세 검색</h4>
            <!-- 날짜 선택기 -->
            <div class="form-group">
                <div class="form-group">
                    <label for="departure-date">날짜 선택</label>
                    <input type="date" id="departure-date" name="departureDate" class="form-control" onchange="setMinArrivalDate()">
                </div>
            </div>

            <!-- 여행지 검색 -->
            <div class="form-group">
                <label for="destination">여행지 검색</label>
                <input type="text" id="destination" class="form-control" placeholder="여행지를 입력하세요">
            </div>

            <form method="post" th:action="@{/trip/tripSearch}">
            <div class="form-group">
                <input type="submit" class="btn btn-primary btn-block" value="검색" style="margin-top: 20px;">
            </div>
            </form>
        </div>

        <!-- 오른쪽: 검색된 여행지 정보 (테이블로 감싸기) -->
        <div class="col-md-8">
            <h4>검색 결과</h4>
            <table class="table table-bordered">
                <tbody>
                <!-- 여행지 정보 (서버에서 데이터베이스 정보를 받아와서 표시) -->
                <tr>
                    <td style="width: 30%; padding: 0;">
                            <div class="card">
                                <a th:href="@{/tripDetail}">
                                    <img alt="여행지1" class="card-img-top" src="/images/image1.jpg" style="width: 100%; height: 200px; object-fit: cover; vertical-align: top;">
                                </a>
                            </div>
                    </td>
                    <td>
                        <div class="card-body text-center">
                            <a th:href="@{/tripDetail}">
                            <h5 class="card-title">제주도 패키지</h5>
                            <p class="card-text">아름다운 자연경관과 다양한 체험 활동을 즐길 수 있는 제주도 여행 패키지</p>
                            <p class="card-price"><strong>가격: 500,000원</strong></p>
                            </a>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td style="width: 30%; padding: 0;">
                        <div class="card">
                            <a th:href="@{/tripDetail}">
                                <img alt="여행지1" class="card-img-top" src="/images/image1.jpg" style="width: 100%; height: 200px; object-fit: cover; vertical-align: top;">
                            </a>
                        </div>
                    </td>
                    <td>
                        <div class="card-body text-center">
                            <a th:href="@{/tripDetail}">
                            <h5 class="card-title">제주도 패키지</h5>
                            <p class="card-text">아름다운 자연경관과 다양한 체험 활동을 즐길 수 있는 제주도 여행 패키지</p>
                            <p class="card-price"><strong>가격: 500,000원</strong></p>
                            </a>
                        </div>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>

<div th:replace="/fragments/footer.html :: fragment-footer"></div>
</body>
</html>